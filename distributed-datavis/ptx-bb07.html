<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        _BB Design Document Template_ - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hackmd/emojify.js@2.1.0/dist/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @import url(https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i|Source+Code+Pro:300,400,500|Source+Sans+Pro:300,300i,400,400i,600,600i|Source+Serif+Pro&subset=latin-ext);.hljs{background:#fff;color:#333;display:block;overflow-x:auto;padding:.5em}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-string,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#0086b3}.hljs-built_in,.hljs-builtin-name{color:#005cc5}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#795da3}.hljs-addition{background-color:#eaffea;color:#55a532}.hljs-deletion{background-color:#ffecec;color:#bd2c00}.hljs-link{text-decoration:underline}.markdown-body{word-wrap:break-word;font-size:16px;line-height:1.5}.markdown-body:after,.markdown-body:before{content:"";display:table}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-bottom:16px;margin-top:0}.markdown-body hr{background-color:#e7e7e7;border:0;height:.25em;margin:24px 0;padding:0}.markdown-body blockquote{border-left:.25em solid #ddd;color:#777;font-size:16px;padding:0 1em}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd,.popover kbd{background-color:#fcfcfc;border:1px solid;border-color:#ccc #ccc #bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb;color:#555;display:inline-block;font-size:11px;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{border-bottom:1px solid #eee;padding-bottom:.3em}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{color:#777;font-size:.85em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{list-style-type:none;padding:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-bottom:0;margin-top:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{padding-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{font-size:1em;font-style:italic;font-weight:700;margin-top:16px;padding:0}.markdown-body dl dd{margin-bottom:16px;padding:0 16px}.markdown-body table{display:block;overflow:auto;width:100%;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{border:1px solid #ddd;padding:6px 13px}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{background-color:#fff;box-sizing:initial;max-width:100%}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{background-color:initial;max-width:none;vertical-align:text-top}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{border:1px solid #ddd;display:block;float:left;margin:13px 0 0;overflow:hidden;padding:7px;width:auto}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{clear:both;color:#333;display:block;padding:5px 0 0}.markdown-body span.align-center{clear:both;display:block;overflow:hidden}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{clear:both;display:block;overflow:hidden}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{background-color:#0000000a;border-radius:3px;font-size:85%;margin:0;padding:.2em 0}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{content:"\00a0";letter-spacing:-.2em}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{background:#0000;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{border-radius:3px;font-size:85%;line-height:1.45;overflow:auto}.markdown-body:not(.next-editor) pre{background-color:#f7f7f7;padding:16px}.markdown-body pre code,.markdown-body pre tt{word-wrap:normal;background-color:initial;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{font-size:12px;line-height:1;overflow:hidden;padding:5px;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{background:#fff;border:0;padding:10px 8px 9px;text-align:right}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{background:#f8f8f8;border-top:0;font-weight:700}.news .alert .markdown-body blockquote{border:0;padding:0 0 0 40px}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{cursor:default!important;float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle}.markdown-body{max-width:758px;overflow:visible!important;padding-bottom:40px;padding-top:40px;position:relative}.markdown-body.next-editor{overflow-x:hidden!important}.markdown-body .emoji{vertical-align:top}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{border-right:3px solid #6ce26c!important;box-sizing:initial;color:#afafaf!important;cursor:default;display:inline-block;min-width:20px;padding:0 8px 0 0;position:relative;text-align:right;z-index:4}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-bottom:none;border-left:none;border-top:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-collapse:inherit!important;border-spacing:0}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{margin-bottom:unset;overflow:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert{display:flex;flex-direction:column;gap:16px}.markdown-body .alert>*{margin:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram,.markdown-body pre.vega{background-color:inherit;border-radius:0;overflow:visible;text-align:center;white-space:inherit}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code,.markdown-body pre.vega>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg,.markdown-body pre.vega>svg{height:100%;max-width:100%}.markdown-body pre>code.wrap{word-wrap:break-word;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body .mark,.markdown-body mark{background-color:#fff1a7}.vimeo,.youtube{background-color:#000;background-position:50%;background-repeat:no-repeat;background-size:contain;cursor:pointer;display:table;overflow:hidden;text-align:center}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{object-fit:contain;width:100%;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{height:100%;left:0;position:absolute;top:0;width:100%}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{color:#fff;height:auto;left:50%;opacity:.3;position:absolute;top:50%;transform:translate(-50%,-50%);transition:opacity .2s;width:auto;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%}.figma{display:table;padding-bottom:56.25%;position:relative;width:100%}.figma iframe{border:1px solid #eee;bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%}.markmap-container{height:300px}.markmap-container>svg{height:100%;width:100%}.MJX_Assistive_MathML{display:none}#MathJax_Message{z-index:1000!important}.ui-infobar{color:#777;margin:25px auto -25px;max-width:760px;position:relative;z-index:2}.toc .invisable-node{list-style-type:none}.ui-toc{bottom:20px;position:fixed;z-index:998}.ui-toc.both-mode{margin-left:8px}.ui-toc.both-mode .ui-toc-label{border-bottom-left-radius:0;border-top-left-radius:0;height:40px;padding:10px 4px}.ui-toc-label{background-color:#e6e6e6;border:none;color:#868686;transition:opacity .2s}.ui-toc .open .ui-toc-label{color:#fff;opacity:1;transition:opacity .2s}.ui-toc-label:focus{background-color:#ccc;color:#000;opacity:.3}.ui-toc-label:hover{background-color:#ccc;opacity:1;transition:opacity .2s}.ui-toc-dropdown{margin-bottom:20px;margin-top:20px;max-height:70vh;max-width:45vw;overflow:auto;padding-left:10px;padding-right:10px;text-align:inherit;width:25vw}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{letter-spacing:.0029em;padding-right:0}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{color:#767676;display:block;font-size:13px;font-weight:500;padding:4px 20px}.ui-toc-dropdown .nav>li:first-child:last-child>ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{background-color:initial;border-left:1px solid #000;color:#000;padding-left:19px;text-decoration:none}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{border-left:none;border-right:1px solid #000;padding-right:19px}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{background-color:initial;border-left:2px solid #000;color:#000;font-weight:700;padding-left:18px}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{border-left:none;border-right:2px solid #000;padding-right:18px}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{font-size:12px;font-weight:400;padding-bottom:1px;padding-left:30px;padding-top:1px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{font-size:12px;font-weight:400;padding-bottom:1px;padding-left:40px;padding-top:1px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{font-weight:500;padding-left:28px}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{font-weight:500;padding-left:38px}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html[lang^=ja] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ ゴシック,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html[lang=zh-tw] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html[lang=zh-cn] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html .markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ ゴシック,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html .markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html .markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html[lang^=ja] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ Ｐゴシック,sans-serif}html[lang=zh-tw] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html[lang=zh-cn] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}html .ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ Ｐゴシック,sans-serif}html .ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html .ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}.ui-affix-toc{max-height:70vh;max-width:15vw;overflow:auto;position:fixed;top:0}.back-to-top,.expand-toggle,.go-to-bottom{color:#999;display:block;font-size:12px;font-weight:500;margin-left:10px;margin-top:10px;padding:4px 10px}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:50%;display:block;height:20px;margin-bottom:2px;margin-right:5px;margin-top:2px;width:20px}.ui-user-icon.small{display:inline-block;height:18px;margin:0 0 .2em;vertical-align:middle;width:18px}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.ui-more-info{color:#888;cursor:pointer;vertical-align:middle}.ui-more-info .fa{font-size:16px}.ui-connectedGithub,.ui-published-note{color:#888}.ui-connectedGithub{line-height:23px;white-space:nowrap}.ui-connectedGithub a.file-path{color:#888;padding-left:22px;text-decoration:none}.ui-connectedGithub a.file-path:active,.ui-connectedGithub a.file-path:hover{color:#888;text-decoration:underline}.ui-connectedGithub .fa{font-size:20px}.ui-published-note .fa{font-size:20px;vertical-align:top}.unselectable{-webkit-user-select:none;-o-user-select:none;user-select:none}.selectable{-webkit-user-select:text;-o-user-select:text;user-select:text}.inline-spoiler-section{cursor:pointer}.inline-spoiler-section .spoiler-text{background-color:#333;border-radius:2px}.inline-spoiler-section .spoiler-text>*{opacity:0}.inline-spoiler-section .spoiler-img{filter:blur(10px)}.inline-spoiler-section.raw{background-color:#333;border-radius:2px}.inline-spoiler-section.raw>*{opacity:0}.inline-spoiler-section.unveil{cursor:auto}.inline-spoiler-section.unveil .spoiler-text{background-color:#3333331a}.inline-spoiler-section.unveil .spoiler-text>*{opacity:1}.inline-spoiler-section.unveil .spoiler-img{filter:none}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{color:#222;position:relative;z-index:1}.markdown-body.slides:before{background-color:currentColor;bottom:0;box-shadow:0 0 0 50vw;content:"";display:block;left:0;position:absolute;right:0;top:0;z-index:-1}.markdown-body.slides section[data-markdown]{background-color:#fff;margin-bottom:1.5em;position:relative;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{left:1em;max-height:100%;overflow:hidden;position:absolute;right:1em;top:50%;transform:translateY(-50%)}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{border:3px solid #777;content:"";height:1.5em;position:absolute;right:1em;top:-1.5em}.site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ ゴシック,sans-serif}html[lang=zh-tw] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;-webkit-overflow-scrolling:touch;font-family:Source Sans Pro,Helvetica,Arial,sans-serif;letter-spacing:.025em}html[lang^=ja] body{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ ゴシック,sans-serif}html[lang=zh-tw] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}abbr[data-original-title],abbr[title]{cursor:help}body.modal-open{overflow-y:auto;padding-right:0!important}svg{text-shadow:none}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="true"><h1 id="Distributed-Data-Visualization-Design-Document" data-id="Distributed-Data-Visualization-Design-Document"><a class="anchor hidden-xs" href="#Distributed-Data-Visualization-Design-Document" title="Distributed-Data-Visualization-Design-Document"><span class="octicon octicon-link"></span></a><span>Distributed Data Visualization Design Document</span></h1><p><span>Distributed Data Visualisation is an on-device building block to ease up building end-user UIs for showing data in an informative way. It allows AI providers to display the results of their analytics, predictions and recommendations.</span></p><p><span>The building block is a reusable, portable and multi-platform supported HTML5 / JavaSript &amp; D3.js based component that can be displayed by UI provider from any source.</span></p><p><span>This concept is not only about presenting data in an accessible format, but also about revolutionizing the way data interacts across different platforms, ensuring data privacy and improving user control. With the Prometheus-X project at the forefront, a ground-breaking approach to handling education and career development data will redefine industry standards.</span></p><p><span>Distributed data visualization is a sophisticated framework designed to seamlessly manage and display data across multiple platforms. It enables AI providers to process datasets from different data providers and gain valuable insights such as recommendations, analysis and predictions. What makes this approach special is the ability to easily integrate these results into different applications and user interfaces (UI), making it a versatile tool for educational and professional development.</span></p><h2 id="Technical-usage-scenarios-amp-Features" data-id="Technical-usage-scenarios-amp-Features"><a class="anchor hidden-xs" href="#Technical-usage-scenarios-amp-Features" title="Technical-usage-scenarios-amp-Features"><span class="octicon octicon-link"></span></a><span>Technical usage scenarios &amp; Features</span></h2><p><span>Distributed data visualisation builds the story /user journey for the given goal and given data sets, it applies other building blocks to modify/anonymize/analyse the data. It enables to run analysis by applying other building blocks and Data Space Services from Catalog (under contract).</span></p><h3 id="Featuresmain-functionalities" data-id="Featuresmain-functionalities"><a class="anchor hidden-xs" href="#Featuresmain-functionalities" title="Featuresmain-functionalities"><span class="octicon octicon-link"></span></a><span>Features/main functionalities</span></h3><p><em><span>In-depth description of BB features (details).</span><br>
<span>Again, an enumeration (ie bullet points) is useful. Take input from description for WP2</span></em></p><p><strong><span>User journey case 1:</span></strong></p><p><span>Use case description, value and goal:</span><br>
<span>Use information from Korean users' Diploma and Transcript to match job opportunities in the EU (France). Skills data extracted from the documents will be used for service providers in the EU to recommend potential employment opportunities.</span><br>
<span>The use case will take as basis Pino a product from Solideos used by Korean citizens to store their diploma and learning credentials.</span></p><p><span>Use case functionalities:</span></p><ul>
<li><span>As a Korean professional, I can digitally share my credentials, streamlining my job applications, and improving my employment prospects</span></li>
<li><span>As a Job Matching service, I can match regional jobs to an international pool of qualified applicants</span></li>
<li><span>As a EU company, I can quickly verify Korean applicants’ educational credentials for efficient hiring</span></li>
</ul><p><strong><span>User journey case 2:</span></strong></p><p><span>Use case description, value and goal:</span><br>
<span>LAB aims to prepare individuals for the job market by offering personalized training recommendations worldwide, leveraging skills data and partnerships with service providers like Headai, Inokufu, Rejustify, and Edunao. The goal is to equip learners with relevant skills for career success, enhancing employability and lifelong learning.</span></p><p><span>Use case functionalities:</span></p><ul>
<li><span>Personalized training recommendations based on skills data analysis.</span></li>
<li><span>Access to high-quality training opportunities worldwide.</span></li>
<li><span>Skills forecasting and analytics for anticipating future skill demands.</span></li>
<li><span>Skills assessment and analysis to determine individual skills and areas for improvement.</span></li>
</ul><p><strong><span>Generic user journey:</span></strong></p><ol>
<li><span>Matilda has data about herself in several LMS/LXP</span></li>
<li><span>She's using a new learning provider and wants to receive personalised learning recommendations based on any/all her data</span></li>
<li><span>She can share her data from service provider to another and the results are displayed inside one of those</span></li>
<li><span>Service provider only has to integrate the data viz BB and PTX Connector into LMS/LXP</span></li>
</ol><h3 id="Technical-usage-scenarios" data-id="Technical-usage-scenarios"><a class="anchor hidden-xs" href="#Technical-usage-scenarios" title="Technical-usage-scenarios"><span class="octicon octicon-link"></span></a><span>Technical usage scenarios</span></h3><p><span>Distributed Data Visualisation is a on-device building block meant to ease up building end-user UIs for showing data in informative way with a relevant story/journey. Visualiser requires a host system that runs the UI and that host system must configure it's components (consent, contract) that are needed to operate this building block.</span></p><p><span>Because of the nature of this building block being slightly different than others, the reader of this document can not assume all server-side-building-blocks behaviors to exist in this BB.</span></p><p><strong><span>Technical usage scenario 1:</span></strong></p><p><span>User would gives her/his consent, it triggers "API consumption" by sending the data as a payload to this API call to the AI, and the data will be returned by the protocol. In this flow, the connector of the edtech side would send the result of the AI service back to the edtech so that it could be shown to the user.</span></p><p><strong><span>Technical usage scenario 2:</span></strong></p><p><span>User gives her/his consent to datasets, data provider(s) gives contracts to datasets that are not personal data. All consents/contracts are sent to Visualiser with additional metadata (data endpoint definitions). Visualizer fetches all the data based on this data. The Case 2 would ease up the Visualiser configuration.</span></p><p><span>Tech usage scenario in short</span></p><ul>
<li><span>Host system that runs UI calls the BB07 with 'rules.json' that contains</span>
<ul>
<li><span>connector params</span></li>
<li><span>services in use</span></li>
<li><span>visualisation types</span></li>
</ul>
</li>
<li><span>Host system loads the Visualiser</span></li>
<li><span>Consent and data retrieved</span></li>
<li><span>All Data fetched</span></li>
<li><span>Journey and visualisations related to journey determined</span></li>
<li><span>Recommendations loaded</span></li>
<li><span>Journey visualized</span></li>
</ul><p><span>With Distributed data visualisation, Data providers and Data consumers can easily bring their services to end users without developing all the middleware components on their own.</span></p><p><span>For exapmle, a LMS company using Moodle, can integrate the Distributed data visualisation directly to Moodle and so focus on their LMS provider role, while this building block do all the Data Space technical operations.</span></p><h2 id="Requirements" data-id="Requirements"><a class="anchor hidden-xs" href="#Requirements" title="Requirements"><span class="octicon octicon-link"></span></a><span>Requirements</span></h2><p><strong><span>Functional requirements:</span></strong></p><ul>
<li><span>All datasets must be ready before launching the visualizer</span></li>
<li><span>Individuals must consent to the use of their data</span></li>
<li><span>Organization must sign a contract to transfer the data</span></li>
<li><span>Distributed data visualizer is not responsible of the data, data quality and data validity. Other building blocks ensure data veracity.</span></li>
<li><span>Building block visualizes the given data without manipulations or modifications.</span></li>
<li><span>rules.json must contain all the necessary information (consents, contracts, needed services) in order for building block to be able to perform its task</span></li>
<li><span>Further development:</span>
<ul>
<li><span>BB07 must be able to include new data models by simple conversion table / mapping</span></li>
<li><span>BB07 must be able to include new visualisation scripts</span></li>
</ul>
</li>
</ul><p><strong><span>Performance requirements:</span></strong></p><ul>
<li><span>Response time for a big visualization; 60 seconds</span></li>
<li><span>Response time for an average individual skills profile visualization; less than 1 second</span></li>
</ul><p><strong><span>Security requirements:</span></strong></p><ul>
<li><span>DDV is not allowed to send or share data without specific consent and specific service decribed in rules.json</span></li>
<li><span>DDV is not allowed to use software libraries that may share the data</span></li>
<li><span>DDV is not allowed to store the data or collect logs about data or user identity</span></li>
</ul><p><strong><span>Dependability requirements:</span></strong></p><p><span>In case of incomplete rules.json or data the DDV closes the process and returns error message.</span></p><p><strong><span>Operational requirements:</span></strong></p><ul>
<li><span>DDV requires minimum memory and minimum CPU time, which will be defined later.</span></li>
<li><span>Host system must support JavaScript.</span></li>
</ul><h2 id="Integrations" data-id="Integrations"><a class="anchor hidden-xs" href="#Integrations" title="Integrations"><span class="octicon octicon-link"></span></a><span>Integrations</span></h2><h3 id="Direct-Integrations-with-Other-BBs" data-id="Direct-Integrations-with-Other-BBs"><a class="anchor hidden-xs" href="#Direct-Integrations-with-Other-BBs" title="Direct-Integrations-with-Other-BBs"><span class="octicon octicon-link"></span></a><span>Direct Integrations with Other BBs</span></h3><p><span>There is no direct integrations with other BBs except Connector. All the following integrations are optional.</span></p><h3 id="Integrations-via-Connector" data-id="Integrations-via-Connector"><a class="anchor hidden-xs" href="#Integrations-via-Connector" title="Integrations-via-Connector"><span class="octicon octicon-link"></span></a><span>Integrations via Connector</span></h3><ul>
<li><span>Edge translators (BB03)</span>
<ul>
<li><span>Translate ontologies in-between visualisation steps if needed</span></li>
</ul>
</li>
<li><span>Consent/Contracts negotation agent (BB05)</span>
<ul>
<li><span>Permits to use personal data</span></li>
<li><span>Permits to use nonpersonal data</span></li>
</ul>
</li>
<li><span>Data value chain tracker (BB06)</span>
<ul>
<li><span>Track business value</span></li>
<li><span>Trace direct and indirect data usage</span></li>
</ul>
</li>
<li><span>Data veracity assurance (BB08)</span>
<ul>
<li><span>Evaluate data quality characteristics</span></li>
<li><span>Ensure that data is consistent</span></li>
</ul>
</li>
<li><span>Distributed learning analytics management services (BB09)</span>
<ul>
<li><span>One possible data provider for DDV</span></li>
</ul>
</li>
</ul><h2 id="Relevant-Standards" data-id="Relevant-Standards"><a class="anchor hidden-xs" href="#Relevant-Standards" title="Relevant-Standards"><span class="octicon octicon-link"></span></a><span>Relevant Standards</span></h2><p><span>The standard data formats are applied in a way that the Building Block specific data model is convertible to any other model with standard tools. This could mean e.g. that 1) graph-data in JSON-LD format can be converted to a CSV table, where nodes and their values are only used. So this node-csv can be used directly in excel for drawing barcharts. 2) JSON-LD can be mapped in PowerBi and applied in any PowerBi report as such. The fundamental idea is to bring a universal skills data visualization building block and at the same time support any data visualization tool.</span></p><h3 id="Data-Format-Standards" data-id="Data-Format-Standards"><a class="anchor hidden-xs" href="#Data-Format-Standards" title="Data-Format-Standards"><span class="octicon octicon-link"></span></a><span>Data Format Standards</span></h3><ul>
<li><span>Standard data visualization models like tables and graphs</span></li>
<li><span>Open source frameworks, like D3.js and Chartist.js (standard way to use)</span></li>
<li><span>Data storing technologies, like browser-cookies (industry standard) and data-api:s (standard way to use)</span></li>
<li><span>HTML5</span></li>
<li><span>JavaSript</span></li>
<li><span>JSON</span></li>
</ul><h3 id="Mapping-to-Data-Space-Reference-Architecture-Models-TODO" data-id="Mapping-to-Data-Space-Reference-Architecture-Models-TODO"><a class="anchor hidden-xs" href="#Mapping-to-Data-Space-Reference-Architecture-Models-TODO" title="Mapping-to-Data-Space-Reference-Architecture-Models-TODO"><span class="octicon octicon-link"></span></a><span>Mapping to Data Space Reference Architecture Models (TODO)</span></h3><p><em><span>Mapping to </span><a href="https://dssc.eu/space/DDP/117211137/DSSC+Delivery+Plan+-+Summary+of+assets+publication" target="_blank" rel="noopener"><span>DSSC</span></a><span> or </span><a href="https://docs.internationaldataspaces.org/ids-knowledgebase/v/ids-ram-4/" target="_blank" rel="noopener"><span>IDS RAM</span></a></em></p><h2 id="Input--Output-Data" data-id="Input--Output-Data"><a class="anchor hidden-xs" href="#Input--Output-Data" title="Input--Output-Data"><span class="octicon octicon-link"></span></a><span>Input / Output Data</span></h2><p><strong><span>Input data format:</span></strong></p><p><span>Host system sends the building block the following information in rules.json:</span></p><img src="https://ptuml.hackmd.io/svg/ZPBDJiCm48JlUOfLJY2bXmQ185AaeW0I9xYZAdBTRMFahYEl4_x4ksExhfgUg4yh-_FCxDeBTiAwTpQK_MG0a4j3XD8Ps_R2YXtdrTjnR-OhHd8mXtYA3Ytd1PmIpWhv3n95oYcnBA8zensLn6YRQgyqWwFn6ZUAb5E6Wkg1ASzWaiuXtWHAvgFYGMZ58cosxgiFEI3slnUkElmKMqDmmOZmqYFTlpu3-xRyXSlKPTAlO2MixFnqpubMWVTrASWaopUUFeGsbklcUdvNFXHDNCNJpUDjSnNKr2QCitPsm7qMJxSiXSPQcstqwyn7IyDkXROUXVRS4hBVR86qZd_W3m00"><p><strong><span>Output data format:</span></strong></p><p><span>Depending on the rules.json, the BB appplies the appropriate endpoints to retrieve training or job recommendations. In addition to displaying recommendations, it can also display analytics or metadata of different datasets.</span></p><p><strong><span>Use case 1 (Job recommendations)</span></strong></p><p><span>BB displays the following json in an interactive and user friendly frame, through the JavaScript web component:</span></p><img src="https://ptuml.hackmd.io/svg/TP9FImCn4CNl-oc6d4MmtdegA9vgBteJaJ4xxawRFoMP1KNyxaxIMdTTUqhouxsNDo6hB9XacsDeFW7Ca9nPcZM77KW4wGcsyHNsCSkbkMX05JX87vEADkW9ujj8b0JTwSYvsgZL8FL2DJiCtO0TcIMOzN4_pVYzI5YS2irZMS-9MiesyLuu1fNU3Sx129rnWR4i7wN3ZQv5D1C8-rho5eK0WmwXO3xRIPzjJDNme1iE7N1ewNryVo8RlQVGOcdsqpyHwjEhGRrFvXx5ziMTTwoJNEcp_MMBVzYrUJxMy9opyfVAyo7pW2QH4xIO8msiUSrNizB6zNTy0m00"><p><span>Above example is of one recommendation. Component displays several recommendations of such, depending on the configurations set by the host system or end user.</span></p><p><strong><span>Use case 2 (Training recommendations)</span></strong></p><p><span>BB displays the following json in an interactive and user friendly frame, through the JavaScript web component:</span></p><img src="https://ptuml.hackmd.io/svg/RPB1QiCm38RlUGhXioaik-LK63qCnc3qE4OmYTPuTUtELfQaO-y-suapT_IM_vFqsL6oTIGiVJYZY-y205XZMcGLUp2zTGWXRHYFbTugNtYI-WXaWBfG3KsfJfAK7uKq6tCgkivOgbjqZPLdaaPxrJumo1YOznjU7CzAQ966Zb8f1vFfeHDVMC789txPGCO7_mG7f0e63XSEb4mQXzh5Fd_DL_QC0yG8Tun35ilhUC_UudouYdGazI6tx1QMgtQZanahPtRLzoULcj2YerdtkAHPjAPoRV_iXP8qrLAtE8Prlym08aWh92ka3gTPRCpfXBgD2rmsuRz7OsnuaTMody4_Yx2tBL5I_1HRZ-BFymi0"><h2 id="Architecture" data-id="Architecture"><a class="anchor hidden-xs" href="#Architecture" title="Architecture"><span class="octicon octicon-link"></span></a><span>Architecture</span></h2><pre class="mermaid" data-processed="true"><svg aria-labelledby="chart-title-mermaid-1712261920077" aria-roledescription="classDiagram" role="graphics-document document" viewBox="-34.5625 -49.90625 264.90625 922.90625" style="max-width: 264.90625px;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-1712261920077"><title id="chart-title-mermaid-1712261920077">Distributed Data Visualisation</title><style>#mermaid-1712261920077{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1712261920077 .error-icon{fill:#552222;}#mermaid-1712261920077 .error-text{fill:#552222;stroke:#552222;}#mermaid-1712261920077 .edge-thickness-normal{stroke-width:2px;}#mermaid-1712261920077 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1712261920077 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1712261920077 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1712261920077 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1712261920077 .marker{fill:#333333;stroke:#333333;}#mermaid-1712261920077 .marker.cross{stroke:#333333;}#mermaid-1712261920077 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1712261920077 g.classGroup text{fill:#9370DB;fill:#131300;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#mermaid-1712261920077 g.classGroup text .title{font-weight:bolder;}#mermaid-1712261920077 .nodeLabel,#mermaid-1712261920077 .edgeLabel{color:#131300;}#mermaid-1712261920077 .edgeLabel .label rect{fill:#ECECFF;}#mermaid-1712261920077 .label text{fill:#131300;}#mermaid-1712261920077 .edgeLabel .label span{background:#ECECFF;}#mermaid-1712261920077 .classTitle{font-weight:bolder;}#mermaid-1712261920077 .node rect,#mermaid-1712261920077 .node circle,#mermaid-1712261920077 .node ellipse,#mermaid-1712261920077 .node polygon,#mermaid-1712261920077 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1712261920077 .divider{stroke:#9370DB;stroke-width:1;}#mermaid-1712261920077 g.clickable{cursor:pointer;}#mermaid-1712261920077 g.classGroup rect{fill:#ECECFF;stroke:#9370DB;}#mermaid-1712261920077 g.classGroup line{stroke:#9370DB;stroke-width:1;}#mermaid-1712261920077 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#mermaid-1712261920077 .classLabel .label{fill:#9370DB;font-size:10px;}#mermaid-1712261920077 .relation{stroke:#333333;stroke-width:1;fill:none;}#mermaid-1712261920077 .dashed-line{stroke-dasharray:3;}#mermaid-1712261920077 .dotted-line{stroke-dasharray:1 2;}#mermaid-1712261920077 #compositionStart,#mermaid-1712261920077 .composition{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#mermaid-1712261920077 #compositionEnd,#mermaid-1712261920077 .composition{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#mermaid-1712261920077 #dependencyStart,#mermaid-1712261920077 .dependency{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#mermaid-1712261920077 #dependencyStart,#mermaid-1712261920077 .dependency{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#mermaid-1712261920077 #extensionStart,#mermaid-1712261920077 .extension{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#mermaid-1712261920077 #extensionEnd,#mermaid-1712261920077 .extension{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#mermaid-1712261920077 #aggregationStart,#mermaid-1712261920077 .aggregation{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#mermaid-1712261920077 #aggregationEnd,#mermaid-1712261920077 .aggregation{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#mermaid-1712261920077 #lollipopStart,#mermaid-1712261920077 .lollipop{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#mermaid-1712261920077 #lollipopEnd,#mermaid-1712261920077 .lollipop{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#mermaid-1712261920077 .edgeTerminals{font-size:11px;}#mermaid-1712261920077 .classTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-1712261920077 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker aggregation classDiagram" id="classDiagram-aggregationStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker aggregation classDiagram" id="classDiagram-aggregationEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker extension classDiagram" id="classDiagram-extensionStart"><path d="M 1,7 L18,13 V 1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker extension classDiagram" id="classDiagram-extensionEnd"><path d="M 1,1 V 13 L18,7 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker composition classDiagram" id="classDiagram-compositionStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker composition classDiagram" id="classDiagram-compositionEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker dependency classDiagram" id="classDiagram-dependencyStart"><path d="M 5,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker dependency classDiagram" id="classDiagram-dependencyEnd"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker lollipop classDiagram" id="classDiagram-lollipopStart"><circle r="6" cy="7" cx="6" fill="white" stroke="black"></circle></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id1" d="M101.891,232L101.891,236.167C101.891,240.333,101.891,248.667,101.891,257C101.891,265.333,101.891,273.667,101.891,277.833L101.891,282"></path><path marker-end="url(#classDiagram-extensionEnd)" style="fill:none" class="edge-pattern-solid relation" id="id2" d="M72.641,425L70.937,429.167C69.232,433.333,65.823,441.667,64.119,459.667C62.414,477.667,62.414,505.333,62.414,533C62.414,560.667,62.414,588.333,63.615,606.333C64.815,624.333,67.217,632.667,68.417,636.833L69.618,641"></path><path marker-end="url(#classDiagram-extensionEnd)" style="fill:none" class="edge-pattern-solid relation" id="id3" d="M131.14,425L132.845,429.167C134.549,433.333,137.958,441.667,139.663,450C141.367,458.333,141.367,466.667,141.367,470.833L141.367,475"></path><path marker-end="url(#classDiagram-extensionEnd)" style="fill:none" class="edge-pattern-solid relation" id="id4" d="M141.367,591L141.367,595.167C141.367,599.333,141.367,607.667,140.167,616C138.966,624.333,136.565,632.667,135.364,636.833L134.163,641"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(101.890625, 353.5)" id="classId-Api1-20" class="node default"><rect height="143" width="187.78125" y="-71.5" x="-93.890625" class="outer title-state"></rect><line y2="-36.5" y1="-36.5" x2="93.890625" x1="-93.890625" class="divider"></line><line y2="33.5" y1="33.5" x2="93.890625" x1="-93.890625" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -12.515625, -64)" height="23" width="25.03125" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">API</span></div></foreignObject><foreignObject transform="translate( -86.390625, -25)" height="23" width="38.890625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+BKG</span></div></foreignObject><foreignObject transform="translate( -86.390625, 2)" height="23" width="39.203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+TTG</span></div></foreignObject><foreignObject transform="translate( -86.390625, 41)" height="23" width="172.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Digital Twin Storage()</span></div></foreignObject></g></g><g transform="translate(141.3671875, 533)" id="classId-Api2-21" class="node default"><rect height="116" width="87.90625" y="-58" x="-43.953125" class="outer title-state"></rect><line y2="-23" y1="-23" x2="43.953125" x1="-43.953125" class="divider"></line><line y2="47" y1="47" x2="43.953125" x1="-43.953125" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -12.515625, -50.5)" height="23" width="25.03125" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">API</span></div></foreignObject><foreignObject transform="translate( -36.453125, -11.5)" height="23" width="72.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Compass</span></div></foreignObject><foreignObject transform="translate( -36.453125, 15.5)" height="23" width="49.640625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Score</span></div></foreignObject></g></g><g transform="translate(101.890625, 120)" id="classId-Data-22" class="node default"><rect height="224" width="159.921875" y="-112" x="-79.9609375" class="outer title-state"></rect><line y2="-77" y1="-77" x2="79.9609375" x1="-79.9609375" class="divider"></line><line y2="-7" y1="-7" x2="79.9609375" x1="-79.9609375" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -17.5390625, -104.5)" height="23" width="35.078125" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Data</span></div></foreignObject><foreignObject transform="translate( -72.4609375, -65.5)" height="23" width="68.390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Consent</span></div></foreignObject><foreignObject transform="translate( -72.4609375, -38.5)" height="23" width="73.6875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Contract</span></div></foreignObject><foreignObject transform="translate( -72.4609375, 0.5)" height="23" width="102.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Snowlflake()</span></div></foreignObject><foreignObject transform="translate( -72.4609375, 27.5)" height="23" width="144.921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Sisu, Peppi, etc.()</span></div></foreignObject><foreignObject transform="translate( -72.4609375, 54.5)" height="23" width="90.671875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Free text()</span></div></foreignObject><foreignObject transform="translate( -72.4609375, 81.5)" height="23" width="59.859375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Koski()</span></div></foreignObject></g></g><g transform="translate(101.890625, 753)" id="classId-Visualisation-23" class="node default"><rect height="224" width="113.671875" y="-112" x="-56.8359375" class="outer title-state"></rect><line y2="-77" y1="-77" x2="56.8359375" x1="-56.8359375" class="divider"></line><line y2="101" y1="101" x2="56.8359375" x1="-56.8359375" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -49.3359375, -104.5)" height="23" width="98.671875" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Visualisation</span></div></foreignObject><foreignObject transform="translate( -49.3359375, -65.5)" height="23" width="78.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Bar chart</span></div></foreignObject><foreignObject transform="translate( -49.3359375, -38.5)" height="23" width="84.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Line chart</span></div></foreignObject><foreignObject transform="translate( -49.3359375, -11.5)" height="23" width="72.171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Hexagon</span></div></foreignObject><foreignObject transform="translate( -49.3359375, 15.5)" height="23" width="59.546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Square</span></div></foreignObject><foreignObject transform="translate( -49.3359375, 42.5)" height="23" width="50.546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Table</span></div></foreignObject><foreignObject transform="translate( -49.3359375, 69.5)" height="23" width="35.625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+List</span></div></foreignObject></g></g></g></g></g><text class="classTitleText" y="-25" x="97.890625">Distributed Data Visualisation</text></svg></pre><h2 id="Dynamic-Behaviour" data-id="Dynamic-Behaviour"><a class="anchor hidden-xs" href="#Dynamic-Behaviour" title="Dynamic-Behaviour"><span class="octicon octicon-link"></span></a><span>Dynamic Behaviour</span></h2><p><span>The sequence diagram shows how the component communicates with other components.</span></p><pre class="mermaid" data-processed="true"><svg aria-labelledby="chart-title-mermaid-1712261919724" aria-roledescription="sequence" role="graphics-document document" viewBox="-50 -50 1835.5 1054" style="max-width: 1835.5px;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-1712261919724"><title id="chart-title-mermaid-1712261919724">Distributed Visualisation Sequence Diagram</title><g><rect class="actor" ry="3" rx="3" height="65" width="304" stroke="#666" fill="#eaeaea" y="928" x="1431.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="960.5" x="1583.5"><tspan dy="0" x="1583.5">Participant (Data Consumer / Individual)</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="209" stroke="#666" fill="#eaeaea" y="928" x="1172.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="960.5" x="1277"><tspan dy="0" x="1277">Participant (Data Provider)</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="928" x="972.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="960.5" x="1047.5"><tspan dy="0" x="1047.5">Consent Service</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="928" x="772.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="960.5" x="847.5"><tspan dy="0" x="847.5">Contract Service</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="239" stroke="#666" fill="#eaeaea" y="928" x="483.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="960.5" x="603"><tspan dy="0" x="603">Provider Data Space Connector</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="928" x="276.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="960.5" x="351.5"><tspan dy="0" x="351.5">DDV</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="200" stroke="#666" fill="#eaeaea" y="928" x="0"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="960.5" x="100"><tspan dy="0" x="100">Host System (UI Provider)</tspan></text></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="928" x2="1583.5" y1="5" x1="1583.5" id="actor20"></line><g id="root-20"><rect class="actor" ry="3" rx="3" height="65" width="304" stroke="#666" fill="#eaeaea" y="0" x="1431.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="1583.5"><tspan dy="0" x="1583.5">Participant (Data Consumer / Individual)</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="928" x2="1277" y1="5" x1="1277" id="actor19"></line><g id="root-19"><rect class="actor" ry="3" rx="3" height="65" width="209" stroke="#666" fill="#eaeaea" y="0" x="1172.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="1277"><tspan dy="0" x="1277">Participant (Data Provider)</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="928" x2="1047.5" y1="5" x1="1047.5" id="actor18"></line><g id="root-18"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="972.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="1047.5"><tspan dy="0" x="1047.5">Consent Service</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="928" x2="847.5" y1="5" x1="847.5" id="actor17"></line><g id="root-17"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="772.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="847.5"><tspan dy="0" x="847.5">Contract Service</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="928" x2="603" y1="5" x1="603" id="actor16"></line><g id="root-16"><rect class="actor" ry="3" rx="3" height="65" width="239" stroke="#666" fill="#eaeaea" y="0" x="483.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="603"><tspan dy="0" x="603">Provider Data Space Connector</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="928" x2="351.5" y1="5" x1="351.5" id="actor15"></line><g id="root-15"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="276.5"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="351.5"><tspan dy="0" x="351.5">DDV</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="928" x2="100" y1="5" x1="100" id="actor14"></line><g id="root-14"><rect class="actor" ry="3" rx="3" height="65" width="200" stroke="#666" fill="#eaeaea" y="0" x="0"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="100"><tspan dy="0" x="100">Host System (UI Provider)</tspan></text></g></g><style>#mermaid-1712261919724{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1712261919724 .error-icon{fill:#552222;}#mermaid-1712261919724 .error-text{fill:#552222;stroke:#552222;}#mermaid-1712261919724 .edge-thickness-normal{stroke-width:2px;}#mermaid-1712261919724 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1712261919724 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1712261919724 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1712261919724 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1712261919724 .marker{fill:#333333;stroke:#333333;}#mermaid-1712261919724 .marker.cross{stroke:#333333;}#mermaid-1712261919724 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1712261919724 .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1712261919724 text.actor&gt;tspan{fill:black;stroke:none;}#mermaid-1712261919724 .actor-line{stroke:grey;}#mermaid-1712261919724 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-1712261919724 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-1712261919724 #arrowhead path{fill:#333;stroke:#333;}#mermaid-1712261919724 .sequenceNumber{fill:white;}#mermaid-1712261919724 #sequencenumber{fill:#333;}#mermaid-1712261919724 #crosshead path{fill:#333;stroke:#333;}#mermaid-1712261919724 .messageText{fill:#333;stroke:none;}#mermaid-1712261919724 .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1712261919724 .labelText,#mermaid-1712261919724 .labelText&gt;tspan{fill:black;stroke:none;}#mermaid-1712261919724 .loopText,#mermaid-1712261919724 .loopText&gt;tspan{fill:black;stroke:none;}#mermaid-1712261919724 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-1712261919724 .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-1712261919724 .noteText,#mermaid-1712261919724 .noteText&gt;tspan{fill:black;stroke:none;}#mermaid-1712261919724 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-1712261919724 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-1712261919724 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-1712261919724 .actorPopupMenu{position:absolute;}#mermaid-1712261919724 .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-1712261919724 .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1712261919724 .actor-man circle,#mermaid-1712261919724 line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-1712261919724 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"></path></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"></path></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"></path></symbol></defs><defs><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker refY="5" refX="4" orient="auto" markerHeight="8" markerWidth="15" id="crosshead"><path style="stroke-dasharray: 0, 0;" d="M 1,2 L 6,7 M 6,2 L 1,7" stroke-width="1pt" stroke="#000000" fill="none"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="18" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="40" markerWidth="60" refY="15" refX="15" id="sequencenumber"><circle r="6" cy="15" cx="15"></circle></marker></defs><g><rect class="note" ry="0" rx="0" height="39" width="150" stroke="#666" fill="#EDF2AE" y="179" x="276.5"></rect><text style="font-size: 16px; font-weight: 400;" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="184" x="352"><tspan x="352">rules.json</tspan></text></g><g><rect class="note" ry="0" rx="0" height="39" width="403" stroke="#666" fill="#EDF2AE" y="228" x="150"></rect><text style="font-size: 16px; font-weight: 400;" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="233" x="352"><tspan x="352">edits by the Participant (e.g. adding external consents)</tspan></text></g><g><rect class="note" ry="0" rx="0" height="39" width="264" stroke="#666" fill="#EDF2AE" y="277" x="471"></rect><text style="font-size: 16px; font-weight: 400;" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="282" x="603"><tspan x="603">Policy verification &amp; Access control</tspan></text></g><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="80" x="842">visualization request</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="117" x2="100" y1="117" x1="1583.5"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="132" x="226">Http request</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="169" x2="351.5" y1="169" x1="100"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="331" x="477">Trigger data exchange</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="368" x2="603" y1="368" x1="351.5"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="383" x="725">Verify contract &amp; policies</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="420" x2="847.5" y1="420" x1="603"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="435" x="1062">Data request</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="472" x2="1277" y1="472" x1="847.5"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="487" x="1062">​</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="482" x2="847.5" y1="482" x1="1277"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="497" x="725">Contracted data</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="534" x2="603" y1="534" x1="847.5"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="549" x="477">Contracted data</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="586" x2="351.5" y1="586" x1="603"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="601" x="825">Verify consent &amp; policies</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="638" x2="1047.5" y1="638" x1="603"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="653" x="1162">Data request</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="690" x2="1277" y1="690" x1="1047.5"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="705" x="1162">​</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="700" x2="1047.5" y1="700" x1="1277"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="715" x="825">Consented data</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="752" x2="603" y1="752" x1="1047.5"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="767" x="477">Consented data</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="804" x2="351.5" y1="804" x1="603"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="819" x="226">JavaScript Component</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="856" x2="100" y1="856" x1="351.5"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="871" x="842">Visualization</text><line style="fill: none;" marker-end="url(#filled-head)" stroke="none" stroke-width="2" class="messageLine0" y2="908" x2="1583.5" y1="908" x1="100"></line><text y="-25" x="767.75">Distributed Visualisation Sequence Diagram</text></svg></pre><h2 id="Configuration-and-deployment-settings" data-id="Configuration-and-deployment-settings"><a class="anchor hidden-xs" href="#Configuration-and-deployment-settings" title="Configuration-and-deployment-settings"><span class="octicon octicon-link"></span></a><span>Configuration and deployment settings</span></h2><p><em><span>What configuration options does this BB have?</span><br>
<span>What is the configuration format?</span><br>
<span>Provide examples.</span><br>
<span>How is the component logging the operations? What are the error scenarios? What are the limits in terms of usage (e.g. number of requests, size of dataset, etc.)?</span></em></p><p><span>Configuration of the BB07 can be done in two places</span></p><ul>
<li><span>rules.json (see section Input / Output Data)</span></li>
<li><span>parameters given in visualizer HTTP-GET (see section OpenAPI Specifications)</span></li>
</ul><p><span>The given parameters follows REST-API type of GET parameters, so only values that could be publicly seen or strongly encrypted values are allowed.</span></p><h2 id="Third-Party-Components-amp-Licenses" data-id="Third-Party-Components-amp-Licenses"><a class="anchor hidden-xs" href="#Third-Party-Components-amp-Licenses" title="Third-Party-Components-amp-Licenses"><span class="octicon octicon-link"></span></a><span>Third Party Components &amp; Licenses</span></h2><p><span>Background Component: D3.js</span><br>
<span>Available at D3.js Git  </span><a href="https://github.com/d3/d3" target="_blank" rel="noopener"><span>https://github.com/d3/d3</span></a></p><p><span>D3.js is licensed under the ISC License.</span><br>
<a href="https://github.com/d3/d3/blob/main/LICENSE" target="_blank" rel="noopener"><span>https://github.com/d3/d3/blob/main/LICENSE</span></a></p><p><span>In order to maximise cyber security we have isolated d3.js online-dependencies in current development version, which may cause small differences on how code behaviors when developed further. This decison may change during the development.</span></p><h2 id="OpenAPI-Specification-TODO" data-id="OpenAPI-Specification-TODO"><a class="anchor hidden-xs" href="#OpenAPI-Specification-TODO" title="OpenAPI-Specification-TODO"><span class="octicon octicon-link"></span></a><span>OpenAPI Specification (TODO)</span></h2><p><span>Headai Visualizer</span></p><h3 id="Functionalities" data-id="Functionalities"><a class="anchor hidden-xs" href="#Functionalities" title="Functionalities"><span class="octicon octicon-link"></span></a><span>Functionalities</span></h3><ul>
<li><span>Customize Visual Style of Visualizations</span></li>
<li><span>Strong Validation of URL Parameters (data type verification, default values for parameters, warning messages in the screen)</span></li>
<li><span>Full-Screen Mode to enable external embeddings in IFrames, this mode will hide buttons and sidebar columns. It also activates Responsive Mode (minWidth and maxWidth)</span></li>
<li><span>Store Visualization as PNG or SVG</span></li>
<li><span>Clean MindMaps, store modified data in Megatron, and get generated URL</span></li>
<li><span>Receive custom parameters via URL</span></li>
</ul><h3 id="Full-URL-Example-development-version" data-id="Full-URL-Example-development-version"><a class="anchor hidden-xs" href="#Full-URL-Example-development-version" title="Full-URL-Example-development-version"><span class="octicon octicon-link"></span></a><span>Full URL Example, development version</span></h3><ul>
<li><a href="https://megatron.headai.com/HeadaiVisualizer.html?&amp;color_scale=log&amp;word_type=&amp;hide_nodes=&amp;json_url=https://megatron.headai.com/analysis/BuildSignals/BuildSignals_xwiaHk1n3p1672366166478.json&amp;word_type=only_compounds" target="_blank" rel="noopener"><span>https://megatron.headai.com/HeadaiVisualizer.html?&amp;color_scale=log&amp;word_type=&amp;hide_nodes=&amp;json_url=https://megatron.headai.com/analysis/BuildSignals/BuildSignals_xwiaHk1n3p1672366166478.json&amp;word_type=only_compounds</span></a></li>
</ul><p><span>Data behind encrypted contract 'xwiaHk1n3p1672366166478'</span></p><h3 id="URL-Parameters" data-id="URL-Parameters"><a class="anchor hidden-xs" href="#URL-Parameters" title="URL-Parameters"><span class="octicon octicon-link"></span></a><span>URL Parameters</span></h3><table>
<thead>
<tr>
<th><strong><span>Name</span></strong></th>
<th><strong><span>Description</span></strong></th>
<th><strong><span>Accepted Values or Example Value (Default)</span></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><span>Fundamental Parameters</span></td>
<td></td>
<td></td>
</tr>
<tr>
<td><span>json_url</span><br><br><span>(</span><strong><span>mandatory</span></strong><span>)</span></td>
<td><span>URL with the JSON Data. If mode=customize or mode=clean, this parameter can be empty.</span></td>
<td><strong><span>Example:</span></strong><span> </span><a href="https://test.headai.com/a.json" target="_blank" rel="noopener"><span>https://test.headai.com/a.json</span></a></td>
</tr>
<tr>
<td><span>plot_type</span></td>
<td><span>Type of Visualization to show from the given URL.</span><br><br><span>If </span><strong><span>Empty</span></strong><span>, the Visualizer will try to detect automatically the structure of the JSON.</span></td>
<td><span>top20 , linechart,</span><br><br><span>horizontalbarchart, verticalbarchart,</span><br><br><span>hexagon , square, barchart</span></td>
</tr>
<tr>
<td><span class="smartypants">–</span><span>-</span></td>
<td><span class="smartypants">–</span><span>-</span></td>
<td><span class="smartypants">–</span><span>-</span></td>
</tr>
<tr>
<td><span>mode</span></td>
<td><strong><span>Customize:</span></strong><span> Shows a Form to fill all the editable parameters (plus export mode)</span><br><br><strong><span>Clean:</span></strong><span> Enables interaction to remove clicked concepts. Shows buttons to store modified data, and to get generated URL in the clipboard. </span><strong><span>Export:</span></strong><span> Shows Buttons to store the visualization as SVG, PNG, or JSON. </span><strong><span>NOTE:</span></strong><span> This parameter is ignored If iframe mode is enabled</span></td>
<td><span>customize</span><br><br><span>clean</span><br><br><span>export</span><br><br><strong><span>&lt;empty&gt;</span></strong></td>
</tr>
<tr>
<td><span>Visual Customization</span></td>
<td></td>
<td></td>
</tr>
<tr>
<td><span>iframe</span></td>
<td><span>Enable or Disable Full-Screen Mode for IFrame Embedding. If mode=customize, the value of this parameter is ignored.</span></td>
<td><span>true, </span><strong><span>false</span></strong></td>
</tr>
<tr>
<td><span>width</span></td>
<td><span>Width of the Component. If IFrame mode is enabled, this value will be used to preserve the aspect ratio in bigger or smaller windows.</span></td>
<td><span>Any positive integer </span><strong><span>(1400)</span></strong></td>
</tr>
<tr>
<td><span>height</span></td>
<td><span>Height of the Component. If IFrame mode is enabled, this value will be used to preserve the aspect ratio in bigger or smaller windows.</span></td>
<td><span>Any positive integer </span><strong><span>(800)</span></strong></td>
</tr>
<tr>
<td><span>font_family</span></td>
<td><span>FontFamily of all the text labels in the visualization.</span></td>
<td><span>serif , </span><strong><span>sans-serif</span></strong><span> , cursive , monospace</span></td>
</tr>
<tr>
<td><span>font_size</span></td>
<td><span>Font Size of all the text labels in the visualization.</span></td>
<td><span>Any positive integer </span><strong><span>(14)</span></strong></td>
</tr>
<tr>
<td><span>hide_legend</span></td>
<td><span>Boolean that enables hiding the legend of certain visualization.</span></td>
<td><span>true, </span><strong><span>false</span></strong></td>
</tr>
<tr>
<td><span>background_color</span></td>
<td><span>Hexadecimal color</span></td>
<td><strong><span>(#F9F9F9)</span></strong></td>
</tr>
<tr>
<td><span>Parameters under Development</span></td>
<td></td>
<td></td>
</tr>
<tr>
<td><span>legends</span></td>
<td><span>List of comma-separated strings with the customized legends</span></td>
<td><span>“Demand, Offer, Intersection”</span></td>
</tr>
</tbody>
</table><h3 id="URL-Parameters-when-plot_type-is-hexagon-or-square" data-id="URL-Parameters-when-plot_type-is-hexagon-or-square"><a class="anchor hidden-xs" href="#URL-Parameters-when-plot_type-is-hexagon-or-square" title="URL-Parameters-when-plot_type-is-hexagon-or-square"><span class="octicon octicon-link"></span></a><span>URL Parameters when plot_type is hexagon or square</span></h3><table><thead><tr><td>Name</td><td>Description</td><td>Accepted Values or Example Value (Default)</td></tr><tr><td colspan="3">Visual Customization</td></tr><tr><td>fig_size</td><td>Size of the Figures in the MindMap. This is equivalent to HexagonRadius or SquareSize in wordplot library.</td><td>Any positive integer (70)</td></tr><tr><td>center_node</td><td>Label of the concept that will be in the center. This means that all the concepts will be reorganized around the specified term. If empty, the central concept will be the one with the largest value.</td><td>Example: artificial intelligenceartificial_intelligence (space or underscore work)</td></tr><tr><td>center_camera_around</td><td>Centers the initial position of the visualization focusing on a specific concept (this only affects the position of the camera, not the content of the map). If empty, the camera will focus on the center_node. This parameter won’t work if you don’t specify a valid value for initial_zoom.</td><td>Example: climate_change</td></tr><tr><td>initial_zoom</td><td>Defines the initial zoom of the camera. If empty, the camera will try to show all the concepts of the visualization on the screen, automatically calculating the optimal position. If this parameter is empty or incorrect, center_camera_around will be ignored.</td><td>Example: 0.8</td></tr><tr><td>click_action</td><td>remove: Deletes clicked conceptsshowValues: Shows historical data as line chart (only for signals maps)showDetails: Shows the attributes of the clickedhighlight: shows the neighborhood of the clicked conceptsource: Shows the list of sources if info is availablerecenter: Reorganizes the map around the clicked concept</td><td>Values (Case Insensitive):remove (default when mode=clean)showValues (for signals)showDetailshighlightsourcerecenter</td></tr><tr><td>colors</td><td>Hexadecimal code of the colors, separated by a comma and without the numeral character '#'.</td><td>Example: "A0A000,F000F0"</td></tr><tr><td>color_scale</td><td></td><td>sqrt , log , linear , pow , flat</td></tr><tr><td>stroke_color</td><td></td><td></td></tr><tr><td>show_number</td><td>Defines which numerical value of the nodes will be displayed inside the hexagon along with the label of the concepts.</td><td>Example: value, normalized_value, id, weight, group</td></tr><tr><td>show_action_buttons</td><td></td><td>true, false</td></tr><tr><td colspan="3">Special Modes</td></tr><tr><td>sdg_map</td><td>Json must have a specific format, containing scores and indicators</td><td>true, false</td></tr><tr><td>relevancy_mode</td><td>Boolean that defines if the visualization will display the 5 weights (how meaningful is each concept).This mode shows the 5 different weights with different colors and enables the Legend for them.</td><td>true, false</td></tr><tr><td>only_nearest_neighbours</td><td>This mode places nodes in a way that a hexagon is next to another ONLY if it’s related. This generates a map without any strokes.</td><td>true, false</td></tr><tr><td colspan="3">Data Manipulation</td></tr><tr><td>max_nodes</td><td>Desired number of nodes for the map reduction. The internal algorithm will pick the set of values for MinWeight and MinValue that reduces the map as close to that number as possible. This feature only works if nodes have weights, otherwise it will be ignored.</td><td></td></tr><tr><td>filter_min_weight</td><td></td><td>1,2,3,4,5</td></tr><tr><td>filter_min_value</td><td></td><td>Any positive integer</td></tr><tr><td>word_type</td><td></td><td>only_compounds, &lt;empty&gt;</td></tr><tr><td>hide_nodes</td><td>List of labels separated by comma. These labels represent the nodes you want to hide from the MindMap in the visualization.For compound words you can use underscores or spaces</td><td>Ej:<ul><li>data_science, data_analytics</li><li>data science , data analytics</li></ul></td></tr></thead></table><p><span>Click to view latest version -&gt; </span><a href="https://docs.google.com/document/d/1D2J4LmzRFRGb52NkJqp4uFK8soHuRQRq12vHUeYhlps/edit#heading=h.omblmp6i4rwg" target="_blank" rel="noopener"><span>Visualiser Document</span></a></p><h2 id="Test-specification-Marko" data-id="Test-specification-Marko"><a class="anchor hidden-xs" href="#Test-specification-Marko" title="Test-specification-Marko"><span class="octicon octicon-link"></span></a><span>Test specification (Marko)</span></h2><p><em><span>Test definitions and testing environment should be availaible, and the tests should be repeatable.</span></em></p><h3 id="Test-plan-Marko" data-id="Test-plan-Marko"><a class="anchor hidden-xs" href="#Test-plan-Marko" title="Test-plan-Marko"><span class="octicon octicon-link"></span></a><span>Test plan (Marko)</span></h3><p><span>Testing strategy, tools and methods chosen, methods for acceptance criteria.</span><br>
<span>To be detailed.</span></p><h3 id="Unit-tests-Marko" data-id="Unit-tests-Marko"><a class="anchor hidden-xs" href="#Unit-tests-Marko" title="Unit-tests-Marko"><span class="octicon octicon-link"></span></a><span>Unit tests (Marko)</span></h3><p><em><span>Here specify the test cases for the components inside the BB.</span><br>
<span>Candidates for tools that can be used to implement the test cases: JUnit, Mockito, Pytest.</span></em></p><h3 id="Integration-tests-Marko" data-id="Integration-tests-Marko"><a class="anchor hidden-xs" href="#Integration-tests-Marko" title="Integration-tests-Marko"><span class="octicon octicon-link"></span></a><span>Integration tests (Marko)</span></h3><p><em><span>Here specify how to test the integration of the components inside the BB.</span><br>
<span>Candidates for tools that can be used to implement the test cases: K6, Postman, stepci, Pact</span><br>
<span>An example tutorial is available </span><a href="https://github.com/ftsrg-edu/swsv-labs/wiki/2b-Integration-testing" target="_blank" rel="noopener"><span>here</span></a><span>.</span></em></p><h3 id="UI-test-Marko" data-id="UI-test-Marko"><a class="anchor hidden-xs" href="#UI-test-Marko" title="UI-test-Marko"><span class="octicon octicon-link"></span></a><span>UI test (Marko)</span></h3><p><em><span>Candidates for tools that can be used to implement the test cases: Selenium</span></em></p></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class=""><a href="#Distributed-Data-Visualization-Design-Document" title="Distributed Data Visualization Design Document">Distributed Data Visualization Design Document</a><ul class="nav">
<li class=""><a href="#Technical-usage-scenarios-amp-Features" title="Technical usage scenarios &amp; Features">Technical usage scenarios &amp; Features</a><ul class="nav">
<li class=""><a href="#Featuresmain-functionalities" title="Features/main functionalities">Features/main functionalities</a></li>
<li class=""><a href="#Technical-usage-scenarios" title="Technical usage scenarios">Technical usage scenarios</a></li>
</ul>
</li>
<li class=""><a href="#Requirements" title="Requirements">Requirements</a></li>
<li class=""><a href="#Integrations" title="Integrations">Integrations</a><ul class="nav">
<li><a href="#Direct-Integrations-with-Other-BBs" title="Direct Integrations with Other BBs">Direct Integrations with Other BBs</a></li>
<li class=""><a href="#Integrations-via-Connector" title="Integrations via Connector">Integrations via Connector</a></li>
</ul>
</li>
<li class=""><a href="#Relevant-Standards" title="Relevant Standards">Relevant Standards</a><ul class="nav">
<li><a href="#Data-Format-Standards" title="Data Format Standards">Data Format Standards</a></li>
<li><a href="#Mapping-to-Data-Space-Reference-Architecture-Models-TODO" title="Mapping to Data Space Reference Architecture Models (TODO)">Mapping to Data Space Reference Architecture Models (TODO)</a></li>
</ul>
</li>
<li><a href="#Input--Output-Data" title="Input / Output Data">Input / Output Data</a></li>
<li><a href="#Architecture" title="Architecture">Architecture</a></li>
<li><a href="#Dynamic-Behaviour" title="Dynamic Behaviour">Dynamic Behaviour</a></li>
<li><a href="#Configuration-and-deployment-settings" title="Configuration and deployment settings">Configuration and deployment settings</a></li>
<li><a href="#Third-Party-Components-amp-Licenses" title="Third Party Components &amp; Licenses">Third Party Components &amp; Licenses</a></li>
<li><a href="#OpenAPI-Specification-TODO" title="OpenAPI Specification (TODO)">OpenAPI Specification (TODO)</a><ul class="nav">
<li><a href="#Functionalities" title="Functionalities">Functionalities</a></li>
<li><a href="#Full-URL-Example-development-version" title="Full URL Example, development version">Full URL Example, development version</a></li>
<li><a href="#URL-Parameters" title="URL Parameters">URL Parameters</a></li>
<li><a href="#URL-Parameters-when-plot_type-is-hexagon-or-square" title="URL Parameters when plot_type is hexagon or square">URL Parameters when plot_type is hexagon or square</a></li>
</ul>
</li>
<li class=""><a href="#Test-specification-Marko" title="Test specification (Marko)">Test specification (Marko)</a><ul class="nav">
<li><a href="#Test-plan-Marko" title="Test plan (Marko)">Test plan (Marko)</a></li>
<li><a href="#Unit-tests-Marko" title="Unit tests (Marko)">Unit tests (Marko)</a></li>
<li><a href="#Integration-tests-Marko" title="Integration tests (Marko)">Integration tests (Marko)</a></li>
<li class=""><a href="#UI-test-Marko" title="UI test (Marko)">UI test (Marko)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;"  >
        <div class="toc"><ul class="nav">
<li class=""><a href="#Distributed-Data-Visualization-Design-Document" title="Distributed Data Visualization Design Document">Distributed Data Visualization Design Document</a><ul class="nav">
<li class=""><a href="#Technical-usage-scenarios-amp-Features" title="Technical usage scenarios &amp; Features">Technical usage scenarios &amp; Features</a><ul class="nav">
<li class=""><a href="#Featuresmain-functionalities" title="Features/main functionalities">Features/main functionalities</a></li>
<li class=""><a href="#Technical-usage-scenarios" title="Technical usage scenarios">Technical usage scenarios</a></li>
</ul>
</li>
<li class=""><a href="#Requirements" title="Requirements">Requirements</a></li>
<li class=""><a href="#Integrations" title="Integrations">Integrations</a><ul class="nav">
<li><a href="#Direct-Integrations-with-Other-BBs" title="Direct Integrations with Other BBs">Direct Integrations with Other BBs</a></li>
<li class=""><a href="#Integrations-via-Connector" title="Integrations via Connector">Integrations via Connector</a></li>
</ul>
</li>
<li class=""><a href="#Relevant-Standards" title="Relevant Standards">Relevant Standards</a><ul class="nav">
<li><a href="#Data-Format-Standards" title="Data Format Standards">Data Format Standards</a></li>
<li><a href="#Mapping-to-Data-Space-Reference-Architecture-Models-TODO" title="Mapping to Data Space Reference Architecture Models (TODO)">Mapping to Data Space Reference Architecture Models (TODO)</a></li>
</ul>
</li>
<li><a href="#Input--Output-Data" title="Input / Output Data">Input / Output Data</a></li>
<li><a href="#Architecture" title="Architecture">Architecture</a></li>
<li><a href="#Dynamic-Behaviour" title="Dynamic Behaviour">Dynamic Behaviour</a></li>
<li><a href="#Configuration-and-deployment-settings" title="Configuration and deployment settings">Configuration and deployment settings</a></li>
<li><a href="#Third-Party-Components-amp-Licenses" title="Third Party Components &amp; Licenses">Third Party Components &amp; Licenses</a></li>
<li><a href="#OpenAPI-Specification-TODO" title="OpenAPI Specification (TODO)">OpenAPI Specification (TODO)</a><ul class="nav">
<li><a href="#Functionalities" title="Functionalities">Functionalities</a></li>
<li><a href="#Full-URL-Example-development-version" title="Full URL Example, development version">Full URL Example, development version</a></li>
<li><a href="#URL-Parameters" title="URL Parameters">URL Parameters</a></li>
<li><a href="#URL-Parameters-when-plot_type-is-hexagon-or-square" title="URL Parameters when plot_type is hexagon or square">URL Parameters when plot_type is hexagon or square</a></li>
</ul>
</li>
<li class=""><a href="#Test-specification-Marko" title="Test specification (Marko)">Test specification (Marko)</a><ul class="nav">
<li><a href="#Test-plan-Marko" title="Test plan (Marko)">Test plan (Marko)</a></li>
<li><a href="#Unit-tests-Marko" title="Unit tests (Marko)">Unit tests (Marko)</a></li>
<li><a href="#Integration-tests-Marko" title="Integration tests (Marko)">Integration tests (Marko)</a></li>
<li class=""><a href="#UI-test-Marko" title="UI test (Marko)">UI test (Marko)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
